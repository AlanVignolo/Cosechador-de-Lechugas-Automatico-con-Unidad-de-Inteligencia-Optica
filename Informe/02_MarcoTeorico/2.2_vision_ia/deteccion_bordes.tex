\subsection{Detección de bordes}

La detección de bordes identifica transiciones abruptas de intensidad en imágenes, correspondientes a límites entre objetos o regiones con propiedades visuales distintas. En aplicaciones de robótica agrícola, la detección de bordes permite identificar límites de tubos de cultivo y estructuras de soporte.

\subsubsection{Algoritmo de Canny}

El algoritmo de Canny constituye uno de los métodos más efectivos para detección de bordes. Se fundamenta en tres criterios: buena detección (baja tasa de falsos positivos y negativos), buena localización (bordes detectados próximos a los bordes reales), y respuesta única (un único punto de borde por cada borde real).

El algoritmo aplica primero un filtro gaussiano bidimensional para suavizar la imagen y reducir ruido:

\begin{equation}
G(x,y) = \frac{1}{2\pi\sigma^2} e^{-\frac{x^2 + y^2}{2\sigma^2}}
\end{equation}

donde $\sigma$ controla el grado de suavizado. La imagen suavizada resulta de la convolución: $I_s = I \ast G$. Luego calcula la magnitud y dirección del gradiente de intensidad mediante operadores de Sobel:

\begin{equation}
G_x = \begin{bmatrix} -1 & 0 & 1 \\ -2 & 0 & 2 \\ -1 & 0 & 1 \end{bmatrix} \ast I_s, \quad G_y = \begin{bmatrix} 1 & 2 & 1 \\ 0 & 0 & 0 \\ -1 & -2 & -1 \end{bmatrix} \ast I_s
\end{equation}

La magnitud del gradiente $M = \sqrt{G_x^2 + G_y^2}$ indica la fuerza del borde. Posteriormente aplica supresión de no máximos para adelgazar los bordes, preservando únicamente píxeles que son máximos locales en la dirección del gradiente. Finalmente, usa doble umbralización con histéresis: los bordes fuertes (magnitud > umbral alto) se aceptan inmediatamente, mientras que los bordes débiles se aceptan únicamente si están conectados a un borde fuerte.
