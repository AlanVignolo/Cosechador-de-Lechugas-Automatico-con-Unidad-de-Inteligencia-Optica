\documentclass[a4paper,12pt]{report}
\usepackage[
  a4paper,
  margin=1.5cm,
  top=82pt,
  headheight=42pt,
]{geometry}

% Paquetes
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsmath,eqparbox}
\usepackage[utf8]{inputenc}   % Entrada: codificación UTF-8 (acentos en el código)
\usepackage[T1]{fontenc}      % Salida: codificación de fuentes
\usepackage[spanish]{babel}   % Traducciones y separación silábica
\usepackage{array}
\usepackage{bm}
\usepackage{blindtext}
\usepackage{caption}
\usepackage[makeroom]{cancel}
\usepackage{euscript}[mathcal]
\usepackage{enumitem}
\usepackage{fontenc}
\usepackage{gensymb}
\usepackage{graphicx}
\usepackage{lastpage}
\usepackage{multirow}
\usepackage{setspace}
\usepackage{titlesec}
\usepackage{xcolor}
\usepackage{float}
\usepackage{verbatim}
\usepackage{comment}
\usepackage{subcaption}
\usepackage{hyperref}

\excludecomment{debug}

% Renombrar figuras
\renewcommand{\figurename}{Fig.}
\captionsetup{font=footnotesize}

% Cabecera y pie de página
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\fancyhead[L]{UNCuyo - Ing. Mecatrónica \\ Mendoza - Argentina - 2025 \\ \hspace{0.1pt}}
\fancyhead[C]{317 - Autómatas y Control Discreto \\ \hspace{0.5pt} \\ \textbf{Proyecto Final de Estudios: Robot cosechador automático}}
\fancyhead[R]{Brenda Gudiño \\ Alan Vignolo \\ \hspace{0.5pt}}

\fancyfoot{}
\fancyfoot[R]{Página \thepage \hspace{2pt} de \pageref{LastPage}} 

\fancypagestyle{plain}{
\fancyhead{}
\fancyhead[L]{UNCuyo - Ing. Mecatrónica \\ Mendoza - Argentina - 2025 \\ \hspace{0.1pt}}
\fancyhead[C]{Proyecto final de estudios \\ \hspace{0.5pt} \\ \textbf{Robot cosechador automático}}
\fancyhead[R]{Brenda Gudiño \\ Alan Vignolo  \\ \hspace{0.5pt}}
\fancyfoot{}
\fancyfoot[R]{Página \thepage \hspace{2pt} de \pageref{LastPage}} 
}

% Formato de índice y capítulos
\renewcommand*\contentsname{Índice}
\titleformat{\chapter}[block]
  {\normalfont\huge\bfseries}{\thechapter.}{1em}{\Huge}
\titlespacing*{\chapter}{0pt}{0pt}{10pt}

% Portada
\title{
\includegraphics[scale = 0.3]{logo_uncuyo.png} \\ [2cm]
{\Huge \textbf{Proyecto Final de Estudios} \\ [1cm] 
Cosechador de Lechugas Autónomo con Unidad de Detección por Inteligencia Artificial}}
\author{Brenda Gudiño \\ Alan Vignolo}
\date{{Fecha de presentación: XX/XX/2025}}

\begin{document}
\setkeys{Gin}{draft=false}

\maketitle
\tableofcontents 
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% RESUMEN
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter*{Resumen}
\addcontentsline{toc}{chapter}{Resumen}
\input{00_Resumen/resumen}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CAPÍTULO 1: INTRODUCCIÓN
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Introducción}

\section{Contexto y Motivación}
\input{01_Introduccion/contexto_motivacion}

\section{Objetivos del Proyecto}
\input{01_Introduccion/objetivos}

\section{Alcance y Limitaciones}
\input{01_Introduccion/alcance_limitaciones}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CAPÍTULO 2: MARCO TEÓRICO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Marco Teórico}

\section{Sistemas de Control Jerárquico}
\input{02_MarcoTeorico/2.1_control_jerarquico/Sist_control_jerarquico}

\section{Fundamentos de Visión Artificial e Inteligencia Artificial}
\input{02_MarcoTeorico/2.2_vision_ia/procesamiento_imagenes}
\input{02_MarcoTeorico/2.2_vision_ia/deteccion_bordes}
\input{02_MarcoTeorico/2.2_vision_ia/deteccion_contornos}
\input{02_MarcoTeorico/2.2_vision_ia/analisis_morfologico}
\input{02_MarcoTeorico/2.2_vision_ia/metricas_evaluacion}

\section{Estructuras Cartesianas y Robots serie}
\input{02_MarcoTeorico/2.3_cinematica/robots_Cartesianos_y_serie.tex}

\section{Sistemas de Transmisión Mecánica}
\input{02_MarcoTeorico/2.4_transmision/transmision.tex}

\section{Control de Motores Paso a Paso}
\input{02_MarcoTeorico/2.5_motores/principio_funcionamiento}
%\input{02_MarcoTeorico/2.5_motores/modos_operacion}
%\input{02_MarcoTeorico/2.5_motores/drivers_electronica}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CAPÍTULO 3: DESARROLLO DEL SISTEMA
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Desarrollo del Sistema}

\section{Arquitectura General del Sistema}
\input{03_Desarrollo/3.1_arquitectura_general/diagrama_bloques}
\input{03_Desarrollo/3.1_arquitectura_general/interaccion_niveles}
\input{03_Desarrollo/3.1_arquitectura_general/flujo_informacion}
\input{03_Desarrollo/3.1_arquitectura_general/maquina_estados_global}

\section{Modelado y Diseño Mecánico}

\subsection{Especificaciones de Diseño y Restricciones}
\input{03_Desarrollo/3.2_modelado_mecanico/especificaciones_diseno}

%\subsection{Análisis Cinemático del Sistema}
%\input{03_Desarrollo/3.2_modelado_mecanico/grados_libertad}
%\input{03_Desarrollo/3.2_modelado_mecanico/ecuaciones_movimiento}
%\input{03_Desarrollo/3.2_modelado_mecanico/espacio_trabajo}

%\subsection{Diseño Estructural}
%\input{03_Desarrollo/3.2_modelado_mecanico/calculos_resistencia}
\subsection{Sistema de Movimiento Horizontal}
\input{03_Desarrollo/3.2_modelado_mecanico/Movimiento_Horizontal.tex}

%\input{03_Desarrollo/3.2_modelado_mecanico/calculo_cargas_horizontal}

\subsection{Sistema de Movimiento Vertical}
\input{03_Desarrollo/3.2_modelado_mecanico/Movimiento_Vertical.tex}

%\input{03_Desarrollo/3.2_modelado_mecanico/seleccion_guias}

\subsection{Brazo Robótico}
\input{03_Desarrollo/3.2_modelado_mecanico/configuracion_brazo}
%\input{03_Desarrollo/3.2_modelado_mecanico/cinematica_brazo}
\input{03_Desarrollo/3.2_modelado_mecanico/seleccion_servos}

\subsection{Modelado CAD}
%\input{03_Desarrollo/3.2_modelado_mecanico/diseno_piezas_3d}
\input{03_Desarrollo/3.2_modelado_mecanico/Modelado3D_real.tex}
%\input{03_Desarrollo/3.2_modelado_mecanico/tolerancias_ajustes}

\section{Sistema de Control de Bajo Nivel (Nivel Regulatorio)}

\subsection{Arquitectura del Nivel Regulatorio}
\input{03_Desarrollo/3.3_nivel_regulatorio/arquitectura_regulatorio}

\subsection{Hardware de Control}
\input{03_Desarrollo/3.3_nivel_regulatorio/justificacion_arduino}
\input{03_Desarrollo/3.3_nivel_regulatorio/perifericos_hardware}
\input{03_Desarrollo/3.3_nivel_regulatorio/distribucion_pines}

% \subsection{Selección y Dimensionamiento de Actuadores}
% \input{03_Desarrollo/3.3_nivel_regulatorio/motores_paso_paso}
% \input{03_Desarrollo/3.3_nivel_regulatorio/drivers_tb6600}
% \input{03_Desarrollo/3.3_nivel_regulatorio/servomotores}

% \subsection{Sensores de Seguridad}
% \input{03_Desarrollo/3.3_nivel_regulatorio/finales_carrera}
% \input{03_Desarrollo/3.3_nivel_regulatorio/sistema_seguridad}

\subsection{Control de Movimiento}
\input{03_Desarrollo/3.3_nivel_regulatorio/generacion_trayectorias}
\input{03_Desarrollo/3.3_nivel_regulatorio/control_velocidad}
\input{03_Desarrollo/3.3_nivel_regulatorio/conversion_pasos_mm}

\subsection{Protocolo de Comunicación UART}
\input{03_Desarrollo/3.3_nivel_regulatorio/estructura_comandos}
\input{03_Desarrollo/3.3_nivel_regulatorio/manejo_errores}

\section{Nivel Supervisor}

\subsection{Hardware Supervisor - Raspberry Pi 5}
\input{03_Desarrollo/3.4_nivel_supervisor/justificacion_raspberry}

\subsection{Máquina de Estados del Sistema}
\input{03_Desarrollo/3.4_nivel_supervisor/diagrama_estados_sistema}

\subsection{Seguimiento de Posición Global}
\input{03_Desarrollo/3.4_nivel_supervisor/seguimiento_posicion}

\subsection{Control del Brazo Robótico}
\input{03_Desarrollo/3.4_nivel_supervisor/control_brazos}

\subsection{Procesos Principales}
\input{03_Desarrollo/3.4_nivel_supervisor/procesos_principales}

\subsection{Manejo de Errores y Recuperación}
\input{03_Desarrollo/3.4_nivel_supervisor/manejo_errores}

\section{Inteligencia Artificial y Visión por Computadora}

\subsection{Arquitectura y Pipeline de Procesamiento}
\input{03_Desarrollo/3.5_ia_vision/arquitectura_general}
\input{03_Desarrollo/3.5_ia_vision/hardware_preprocesamiento}

\subsection{Detector de Marcadores de Referencia}
\input{03_Desarrollo/3.5_ia_vision/3.5.3_detector_marcadores/fundamento}
\input{03_Desarrollo/3.5_ia_vision/3.5.3_detector_marcadores/pipeline_procesamiento}
\input{03_Desarrollo/3.5_ia_vision/3.5.3_detector_marcadores/aplicaciones}
\input{03_Desarrollo/3.5_ia_vision/3.5.3_detector_marcadores/calibracion_resultados}

\subsection{Detector de Tubos de Cultivo}
\input{03_Desarrollo/3.5_ia_vision/3.5.4_detector_tubos/fundamento}
\input{03_Desarrollo/3.5_ia_vision/3.5.4_detector_tubos/pipeline_procesamiento}
\input{03_Desarrollo/3.5_ia_vision/3.5.4_detector_tubos/aplicacion_resultados}

\subsection{Clasificador de Cultivos}
\input{03_Desarrollo/3.5_ia_vision/3.5.5_clasificador_cultivos/fundamento_pipeline}
\input{03_Desarrollo/3.5_ia_vision/3.5.5_clasificador_cultivos/analisis_estadistico_resultados}

\subsection{Mapeo y Optimización de Rutas}
\input{03_Desarrollo/3.5_ia_vision/mapeo_navegacion}
\input{03_Desarrollo/3.5_ia_vision/optimizacion_trayectorias}

%\input{03_Desarrollo/3.7_montaje/ensamblaje_mecanico}
%\input{03_Desarrollo/3.7_montaje/integracion_electronica}
%\input{03_Desarrollo/3.7_montaje/calibracion_puesta_marcha}
%\input{03_Desarrollo/3.7_montaje/problemas_soluciones}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CAPÍTULO 4: PRUEBAS Y RESULTADOS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Prototipo, pruebas y resultados}
\section{Diseño estructural y mecánico}
\input{04_Pruebas/4.1_estructura_y_mec/estr_y_mec.tex}
\input{04_Pruebas/4.1_estructura_y_mec/Sistema_mov_horizontal.tex}
\input{04_Pruebas/4.1_estructura_y_mec/Sistema_mov_vertical.tex}
\input{04_Pruebas/4.1_estructura_y_mec/Modelado_3d.tex}
%\input{04_Pruebas/Sistema_movi_vertical}
%\input{03_Desarrollo/3.2_modelado_mecanico/Modelado_3d.tex}

%\section{Metodología de Pruebas}
%\input{04_Pruebas/4.1_metodologia/diseno_experimental}
%\input{04_Pruebas/4.1_metodologia/metricas_evaluacion}

\section{Pruebas del Sistema Mecánico}
\input{04_Pruebas/4.2_mecanico/precision_posicionamiento}
\input{04_Pruebas/4.2_mecanico/repetibilidad}
\input{04_Pruebas/4.2_mecanico/velocidades_maximas}
\input{04_Pruebas/4.2_mecanico/vibraciones_estabilidad}

\section{Pruebas del Sistema de Control}
\input{04_Pruebas/4.3_control/respuesta_temporal}
\input{04_Pruebas/4.3_control/manejo_errores}
\input{04_Pruebas/4.3_control/finales_carrera}

\section{Pruebas del Sistema de IA}
\input{04_Pruebas/4.4_ia/precision_deteccion}
\input{04_Pruebas/4.4_ia/tasa_clasificacion}
\input{04_Pruebas/4.4_ia/tiempo_procesamiento}
\input{04_Pruebas/4.4_ia/robustez_variaciones}
\input{04_Pruebas/4.4_ia/validacion_mapeo}

\section{Pruebas de Integración}
\input{04_Pruebas/4.5_integracion/ciclo_completo}
\input{04_Pruebas/4.5_integracion/eficiencia_sistema}
\input{04_Pruebas/4.5_integracion/casos_extremos}

\section{Análisis de Resultados}
\input{04_Pruebas/4.6_analisis/comparacion_objetivos}
\input{04_Pruebas/4.6_analisis/limitaciones}
\input{04_Pruebas/4.6_analisis/mejoras_potenciales}

\chapter{Análisis de costos}
\input{06_Costos/Analisis_economico.tex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CAPÍTULO 5: CONCLUSIONES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Conclusiones y Trabajo Futuro}

\section{Conclusiones Generales}
\input{05_Conclusiones/5.1_conclusiones/logros_alcanzados}
\input{05_Conclusiones/5.1_conclusiones/cumplimiento_objetivos}
\input{05_Conclusiones/5.1_conclusiones/lecciones_aprendidas}

\section{Aportes del Proyecto}
\input{05_Conclusiones/5.2_aportes/innovaciones}
\input{05_Conclusiones/5.2_aportes/contribuciones_tecnicas}

\section{Trabajo Futuro}
\input{05_Conclusiones/5.3_trabajo_futuro/mejoras_propuestas}
\input{05_Conclusiones/5.3_trabajo_futuro/escalabilidad}
\input{05_Conclusiones/5.3_trabajo_futuro/aplicaciones_potenciales}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ANEXOS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix
\chapter{Diagramas Eléctricos Completos}
\input{Anexos/A_diagramas_electricos}

\chapter{Código Fuente Relevante}
\input{Anexos/B_codigo_fuente}

\chapter{Especificaciones Técnicas de Componentes}
\input{Anexos/C_especificaciones}

\chapter{Manual de Usuario}
\input{Anexos/D_manual_usuario}

\chapter{Hojas de Datos}
\input{Anexos/E_hojas_datos}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% REFERENCIAS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter*{Referencias}
\addcontentsline{toc}{chapter}{Referencias}
\input{Referencias/referencias}

\end{document}
